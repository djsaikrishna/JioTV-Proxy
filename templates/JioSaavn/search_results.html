<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <title>Results for {{ songName }}</title>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">JioSaavn</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNavDropdown"
          aria-controls="navbarNavDropdown"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a
                class="nav-link active"
                aria-current="page"
                href="home?lang=tamil"
                >Home</a
              >
            </li>
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                id="navbarDropdownMenuLink"
                role="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                Language
              </a>
              <ul
                class="dropdown-menu"
                aria-labelledby="navbarDropdownMenuLink"
              >
                <a class="dropdown-item" href="/jio_saavn/?language=tamil"
                  >Tamil</a
                >
                <a class="dropdown-item" href="/jio_saavn/?language=hindi"
                  >Hindi</a
                >
                <a class="dropdown-item" href="/jio_saavn/?language=english"
                  >English</a
                >
                <a class="dropdown-item" href="/jio_saavn/?language=telugu"
                  >Telugu</a
                >
                <a class="dropdown-item" href="/jio_saavn/?language=punjabi"
                  >Punjabi</a
                >
                <a class="dropdown-item" href="/jio_saavn/?language=marathi"
                  >Marathi</a
                >
                <a class="dropdown-item" href="/jio_saavn/?language=gujarati"
                  >Gujarati</a
                >
                <a class="dropdown-item" href="/jio_saavn/?language=bengali"
                  >Bengali</a
                >
                <a class="dropdown-item" href="/jio_saavn/?language=kannada"
                  >Kannada</a
                >
                <a class="dropdown-item" href="/jio_saavn/?language=bhojpuri"
                  >Bhojpuri</a
                >
                <a class="dropdown-item" href="/jio_saavn/?language=malayalam"
                  >Malayalam</a
                >
                <a class="dropdown-item" href="/jio_saavn/?language=urdu"
                  >Urdu</a
                >
                <a class="dropdown-item" href="/jio_saavn/?language=haryanvi"
                  >Haryanvi</a
                >
                <a class="dropdown-item" href="/jio_saavn/?language=rajasthani"
                  >Rajasthani</a
                >
                <a class="dropdown-item" href="/jio_saavn/?language=odia"
                  >Odia</a
                >
                <a class="dropdown-item" href="/jio_saavn/?language=assamese"
                  >Assamese</a
                >
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <div class="search-panel container-fluid pt-2 shadow">
      <div class="input-group mb-3">
        <input
          type="text"
          class="form-control"
          placeholder="Search..."
          aria-label="Search..."
          aria-describedby="button-addon2"
          id="query"
        />
        <button
          class="btn btn-outline-secondary"
          type="button"
          id="button-addon2"
          onclick="myFunction()"
        >
          <i class="fas fa-search"></i> Search
        </button>
      </div>
      <script>
        function myFunction() {
          var albums_search_checked = document.getElementById("albums").checked;
          var songs_search_checked = document.getElementById("songs").checked;
          var artists_search_checked =
            document.getElementById("artists").checked;
          var playlists_search_checked =
            document.getElementById("playlists").checked;

          if (albums_search_checked === true) {
            query = document.getElementById("query").value;
            window.open(
              "/jio_saavn/search?search_mode=search.getAlbumResults&query=" +
                query,
              "_self"
            );
          } else if (songs_search_checked === true) {
            query = document.getElementById("query").value;
            window.open(
              "/jio_saavn/search?search_mode=search.getResults&query=" + query,
              "_self"
            );
          } else if (artists_search_checked === true) {
            query = document.getElementById("query").value;
            window.open(
              "/jio_saavn/search?search_mode=search.getArtistResults&query=" +
                query,
              "_self"
            );
          } else if (playlists_search_checked === true) {
            query = document.getElementById("query").value;
            window.open(
              "/jio_saavn/search?search_mode=search.getPlaylistResults&query=" +
                query,
              "_self"
            );
          }
        }
      </script>
      <div class="search-type fs-6 fw-bolder pb-1">
        Search For: &nbsp;
        <div class="form-check form-check-inline">
          <label class="form-check-label">
            <input
              class="form-check-input"
              type="radio"
              name="search-type-radio"
              id="songs"
              value="songs"
              checked
            />
            Songs
          </label>
        </div>
        <div class="form-check form-check-inline">
          <label class="form-check-label">
            <input
              class="form-check-input"
              type="radio"
              name="search-type-radio"
              id="albums"
              value="albums"
            />
            Albums
          </label>
        </div>
        <div class="form-check form-check-inline">
          <label class="form-check-label">
            <input
              class="form-check-input"
              type="radio"
              name="search-type-radio"
              id="artists"
              value="artists"
            />
            Artists
          </label>
        </div>
        <div class="form-check form-check-inline">
          <label class="form-check-label">
            <input
              class="form-check-input"
              type="radio"
              name="search-type-radio"
              id="playlists"
              value="playlists"
            />
            Playlists
          </label>
        </div>
      </div>
    </div>
    <h1 class="text-center">Search Results for {{ query }}</h1>
    <div class="search-results">
      <div class="container-fluid">
        <div class="row">
          {% for result in results %}
          <div class="col-6 col-md-3 pt-1">
            <div class="card">
              <img
                class="card-img-top"
                src="{{ result.image }}"
                alt="Card image cap"
                draggable="false"
              />
              <div class="card-body">
                <h5 class="card-title text-truncate">
                  {{ result.title|safe }}
                </h5>
                <p class="card-text fw-bold text-muted text-truncate">
                  {{ result.year }}
                </p>
                {% if mode == "SONGS" %}
                <a
                  href="/jio_saavn/play_song?song_id={{ result.id }}"
                  class="btn btn-secondary container-fluid"
                >
                  <i class="fas fa-music"></i>
                  Listen
                </a>
                {% elif mode == "ALBUMS" %}
                <a
                  href="/jio_saavn/album_details?album_id={{ result.id }}"
                  class="btn btn-secondary container-fluid"
                >
                  <i class="fas fa-music"></i>
                  Show Details
                </a>
                {% elif mode == "ARTISTS" %}
                <a
                  href="/jio_saavn/artists_details?artist_id={{ result.id }}"
                  class="btn btn-secondary container-fluid"
                >
                  <i class="fas fa-music"></i>
                  Show Details
                </a>
                {% elif mode == "PLAYLISTS" %}
                <a
                  href="/jio_saavn/playlists_details?playlist_id={{ result.id }}"
                  class="btn btn-secondary container-fluid"
                >
                  <i class="fas fa-music"></i>
                  Show Details
                </a>
                {% endif %}
              </div>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </body>
</html>
